### 欧小龙 2015-11-13

#### 商品打标功能实现方案。

1. 商品打标打在 前台类目， 运营类目，大促，和秒杀上面。
可以利用现有的标签表 t_pandora_label_tag 

2. 任务拆分。

| 任务 |  任务描述  |  开发  |
| ---- | ---- | ---- |
| pandora 接口内容 | 根据商品查商品的标签 |   小龙, 尚旺，瑞恒 |
| 数据表  | 设计数据表，存储，展示运营后台操作产生的数据,为接口查询提供依据 |    |
| 运营后台开发 | 根据产品原型开发根据商品查商品的标签  | 朱雷   |


1. 目前支持 运营类目，和大促的打标。

实现方式

1. 获取标签
    根据商品id确定商品的四个扩展属性，
        运营类目， 前台类目， 大促id， 秒杀id 。
        根据这些内容和运营后台产生的数据来选择标签。

    筛选有效期内的标签，根据标签信息，查询对应的，
    goods_id 查到商品所在的运营类目。
            查询商品的后台类目查询商品的前台类目。

## 2015-11-09
### 开发记录

1. 产品需求要求 ，今天优先做大促 和 运营类目。
2. pandora 开发分支是 goods_tag

开发中涉及的数据表
```sql
运营类目相关的表
t_pandora_category_recommend_goods;

大促信息
t_pandora_promo_events_goods;

商品打标签表
t_pandora_goods_mark;

```
工作分工情况。

| 任务   | 内容   |  负责人  | 进度 |
|---|---|---|---|
| 1  | 获取商品的运营类目标签 |  瑞恒  |   |
| 2  | 获取商品大促标签, t_pandora_promo_events_goods | 尚旺  |   |
| 3  | 运营后台  | 朱雷  |   |
| 4  | 基础表设计  | 朱雷,尚旺  |    |
| 5  |  前端接口 |  秀明，李杰 |    |

## 对产品需求的一些疑问
朱雷

##### 4.6 本周计划
```language
1. 大促和运营类目的打标。（周一）
2. 秒杀的打标，前台类目的打标 （周二）
3. 详细讲解4.6需求并评估工作，安排工作，进入开发  （周三）
```

##### 系统bug部分


|  序号 |bug内容  | 描述  |  解决方案  | 负责人  |
| --- |---  | ---  | --- | --- |
| 1| 秒杀价格维护   | 设置完时间之后，系统自己产生的时间不对，发现是0000-00-00,导致系统价格不对    |     |  欧小龙   |
| 2  | 秒杀库存的维护 | 如果一个商品即在大促中，又在秒杀中，需要拿商品的秒杀库存，而不是大促库存    |      | 欧小龙      |
| 3  | 4.5首页全球最前沿、秒杀没有分享内容的配置入口，导致无法分享    |    |   待分配  |   |


更新群圈商品总数的cron是否还在运行。这个脚本现还在。
group_param_yesterday  用来更新群圈昨天的gmv，店铺商品总数。
在群圈中搜索可以加上 群全商品数大于0 这个条件，这样就可以过滤一些没有商品的群。


#### 2015-11-10
##### 插做需求
需求来自大伟，由PM奚卉跟进。预计11-19日商家端通过审核发布，
代码已经通过测试，在 pandora 的 group 分支。到时候需要重新测试。

>商家段发版做强制升级。给以下接口加强制升级。  
goods/get_list  
goods/offsale  
goods/update  
goods/create  
goods/fastUpdate  
goods/get_detail  
event/get_report_event_list  



#### 4.6 新功能方案设计

1. 新模块，秒杀功能
2. 商品打标后续
3. 首页模块的分享功能
4. 首页模块多元化 （暂时不做）
需求详情见[redmine](http://redmine.meilishuo.com/issues/47143)

###### 1.新模块的实现方式
1. 扩展活动节点类型，多增加一个类型。
2. 设计对应的数据表，包含分享信息，可以参考首页品牌团的实现。
3. 运营后台，按照原型图设计，增加对应的接口。

4. (3.5人/天） （2天）运营后台 （1.5）天接口（0.5天假数据）


###### 2.首页模块的分享功能
1. 改造运营后台，增加分享信息的录入地方，需要修改表结构，给对应表增加分享字段。
2. 修改API，在接口中展示出这些内容。
3. 需要确定是哪几个模块，4.5增加了5个新模块，一个估计需要0.5天，一共需(3人/天)。

###### 3. 商品打标后续，（运营类目，秒杀）
1. 主要在接口。
2. 支持客户端，支持更多类型的商品打标。
3. 接口 (3人/天)


###### 4. 晒单列表
1. 主要开发量是接口
2. (2人/天)，0.5天加数据，1.5天真实接口

#### 4.6版本估期表

|  序号 |   任务 |  开发   |  耗时 （人/天）  |
| --- |---|---|---|
|   1 |  新模块的实现方式  |    | 3.5   |
|  2 |  首页模块的分享功能  |     |   3 |
|  3  |   商品打标后续  |    |  3  |
|  4 |   晒单列表  |     |    2  |

#### 工作优先级
1. 优先提供功能接口假数据，和客户端约定字段，保证端的开发。
2. 完成真实的数据逻辑。完成运营后台，运营后台最好采用ajax交互，保证操作体验。


